#summary Metadata Tools for SageTV

= Introduction =

Metadata Tools (aka BMT) is a collection of tools for managing and fetching metadata.  Currently it supports fetching metadata from imdb.com, themoviedb.com, tvdb.com.  It also have some support for pulling metadata and fanart from existing DVDProfiler or MyMovies collections.  DVDProfiler and MyMovies support is limited.

Metadata Tools provides a Web UI interface for configuration and managing metadata.  There is also a commandline interface, and metadata can be fetched automatically when new media is added to your collection, if the automatic plugin is also installed and enabled.

= Installation =

Quick Steps
  # Install Jetty
  # Extract BMT archive to SageTV Home
  # Restart SageTV Server
  # goto http://localhost:8080/bmt/

If the installation was successful, then you should now see the default bmt web page, which lists some status about the sagetv/bmt environment.

== Configure Your Metadata Providers ==
The default configuration, for most people, will suffice.  It basically uses a combination of imdb and themoviedb to fetch metadata and fanart for movies, and it uses tvdb.com to fetch metadata and fanart for tv shows.

If you need to configuration something different, then goto Configuration -> Metadata Tools -> Metadata Configuation and set your TV and Movie Providers.

In 4.x, TV and Movie media types have different providers.

== Enabling the Automatic Plugin ==
When using the Automatic Plugin, then when new media items are added to the sagetv library, then BMT will automatically fetch any metadata/fanart for those items.

To enable this plugin, you must register bmt as a sagetv metadata plugin source.  To do this, from the web ui, go to Configuration -> SageTV -> Metadata Settings and set *org.jdna.sage.MetadataUpdaterPlugin* as the Metadata Parser.  Then Save.

You should also set the Custom Metadata Fields, since there are required for fanart.  The custom metadata fields should be *IMDBID;DiscNumber;EpisodeNumber;EpisodeTitle;MediaProviderDataID;MediaTitle;MediaType;OriginalAirDate;SeasonNumber;UserRating;*

Once you enable the plugin, you should also configure how you want the automatic plugin to behave.  To do this, go to, Configuration -> Metadata Tools -> Automatic Plugin Configuration.

From this panel you can configure how the automatic should process files.
  * *Enabled* can be used to disable the plugin without unistalling it
  * *Overwrite Metadata*, if checked, will overwrite existing metadata even it exists.
  * *Overwrite Fanart*, if checked, will overwrite/download fanart even if it exists.
  * *Direct Update of Wiz.bin*, if checked, will directly update the Wiz.bin with metadata.  When this is checked, no .properties are created, and BMT will directly modify the Wiz.bin database using the SageTV apis.  If this is unchecked, then BMT will NOT update the wiz.bin directly, and it will simply create a .properties and allow sagetv to update itself using the .properties.
  * *Import TV as Sage Recordings*, if checked, will import TV media types into the SageTV recordings.  This will implicitly override the Update Wiz.bin flag to true.
  * *Record Failures as System Message*, if checked, will notify SageTV via the System Messages when a media item fails to fetch metadata or fanart.  Otherwise, there is no notification.
  * *Push status updates using System Messages*, if checked, will use the System Messages to provide details on the status of a scan.  Once a series of files have been processed, then a message will be written to the System Messages that will summarize the Success and Failures as a count of each.
  * *Supported MediaResource File Types* allows you to specify which kind of media files you want the automatic plugin to process.  You can specify more than one type by separting them via a comma.  By default ALL_VIDEO is uses, which means, TV, DVDs, BluRays, and normal Video media files.
  * *Create Default STV Thumbnail*, if checked, will create a thumbnail image, in the same directory as the media file, which will allow the default STV to see a better thumbnail for the media file.  If you use SageMC, then you probably don't need to enable this.  But, if you use the default STV, then this will allow the default media browser to use poster thumbnails.


	